(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9190],{22484:function(e,n,t){"use strict";var i=t(67294),r=t(282),o=t(52663),s=t(66856),a=t(29525),l=t(7212),c=t(66083),d=t(41120),u=t(86010),h=t(85893),m=(0,d.Z)((function(e){return{dialog:{border:"2px solid",borderColor:"yellow"},title:{textAlign:"center",borderBottom:"1px solid #ccc"},extraPadding:{padding:"2rem 2rem 1rem"},textCenter:{textAlign:"center"}}}));n.Z=function(e){var n=e.title,t=e.description,d=e.onOk,p=e.onClose,x=e.textCenter,g=void 0!==x&&x,Z=e.extraPadding,j=void 0!==Z&&Z,v=e.okText,f=void 0===v?"Confirmar":v,b=e.okColor,_=void 0===b?"secondary":b,C=m(),k=(0,i.useState)(!0),y=k[0],S=k[1],P=function(){S(!1),p&&p()};return(0,h.jsxs)(o.Z,{open:y,onClose:P,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",fullWidth:!0,maxWidth:"xs",className:(0,u.Z)(C.dialog,g&&C.textCenter),children:[(0,h.jsx)(c.Z,{id:"alert-dialog-title",className:C.title,children:n}),(0,h.jsx)(a.Z,{className:j&&C.extraPadding,children:(0,h.jsx)(l.Z,{id:"alert-dialog-description",children:t})}),(0,h.jsxs)(s.Z,{style:{justifyContent:"center",paddingBottom:"1.5rem"},children:[(0,h.jsx)(r.Z,{onClick:function(){S(!1),d&&d()},color:_,variant:"contained",size:"small",children:f}),(0,h.jsx)(r.Z,{onClick:P,size:"small",children:"Cancelar"})]})]})}},2606:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return he}});var i,r=t(4942),o=t(67294),s=t(25617),a=t(41664),l=t(56847),c=t(79895),d=t(82302),u=t(83750),h=t(57394),m=t(88222),p=t(99613),x=t(22318),g=t(282),Z=t(36551),j=t(41120),v=t(28346),f=t(72145),b=t(41749),_=t(86010),C=t(85893),k=(0,j.Z)((function(e){return{root:{position:"sticky",top:90},checkoutButton:(0,r.Z)({},e.breakpoints.up("md"),{marginTop:"1rem",padding:"1rem 0",fontSize:"1.25rem","& svg":{marginRight:"1rem"}}),total:{backgroundColor:e.palette.action.disabledBackground},summary:(0,r.Z)({order:2},e.breakpoints.up("md"),{order:1}),link_checkout:(0,r.Z)({order:1,marginBottom:"1rem"},e.breakpoints.up("md"),{order:2,marginBottom:0})}})),y=function(e){var n=e.cart,t=n.prices,i=t.grand_total,r=t.subtotal_excluding_tax,j=(t.subtotal_with_discount_excluding_tax,t.discounts),y=t.shipping_value,S=(0,s.v9)((function(e){return e.cart.isRefreshingCart})),P=(0,o.useState)(0),w=P[0],z=P[1],N=(0,o.useState)(0),F=N[0],O=N[1],E=(0,o.useState)(0),T=E[0],B=E[1];(0,o.useEffect)((function(){var e=(j||[]).find((function(e){return e.label.includes("desconto-bolet0")}));e&&O(e.amount.value);var n=(j||[]).find((function(e){return e.label.toLowerCase().includes("nupay")}));n&&B(n.amount.value)}),[j]),(0,o.useEffect)((function(){var e=0;(j||[]).forEach((function(n){var t;"desconto-bolet0"!==n.label&&(e+=null===n||void 0===n||null===(t=n.amount)||void 0===t?void 0:t.value)})),z(e)}),[j]);var A=k(),I=n.items.some((function(e){return"OUT_OF_STOCK"===e.product.stock_status})),R=!0;return I||n.items.forEach((function(e){null!==e&&void 0!==e&&e.customizable_options&&null!==e&&void 0!==e&&e.customizable_options.some((function(e){return e.values.length<=0}))&&(R=!1)})),(0,C.jsxs)(b.Z,{container:!0,className:A.root,"data-cy":"cart-summary",children:[(0,C.jsx)(l.Z,{component:c.Z,className:A.summary,children:(0,C.jsxs)(d.Z,{"aria-label":"custom pagination table",children:[(0,C.jsx)(u.Z,{children:(0,C.jsx)(h.Z,{children:(0,C.jsx)(m.Z,{align:"center",colSpan:2,children:(0,C.jsx)(x.Z,{variant:"h5",component:"p",children:"Resumo"})})})}),(0,C.jsxs)(p.Z,{children:[r.value>0&&(0,C.jsxs)(h.Z,{children:[(0,C.jsx)(m.Z,{component:"th",scope:"row",align:"center",children:(0,C.jsx)(x.Z,{variant:"subtitle2",component:"p",children:"Subtotal"})}),(0,C.jsx)(m.Z,{align:"center",width:150,children:(0,C.jsx)(x.Z,{variant:"subtitle2",component:"p",children:(0,C.jsx)(Z.Z,{price:r.value})})})]}),null!==j&&j.length>0&&j.map((function(e){return(0,C.jsxs)(h.Z,{children:[(0,C.jsx)(m.Z,{component:"th",scope:"row",align:"center",children:(0,C.jsx)(x.Z,{variant:"subtitle2",component:"p",children:e.label})}),(0,C.jsx)(m.Z,{align:"center",width:150,children:(0,C.jsx)(x.Z,{variant:"subtitle2",component:"p",children:(0,C.jsx)(Z.Z,{price:e.amount.value})})})]})})),y.value>0&&(0,C.jsxs)(h.Z,{children:[(0,C.jsx)(m.Z,{component:"th",scope:"row",align:"center",children:(0,C.jsx)(x.Z,{variant:"subtitle2",component:"p",children:y.label})}),(0,C.jsx)(m.Z,{align:"center",width:150,children:(0,C.jsx)(x.Z,{variant:"subtitle2",component:"p",children:(0,C.jsx)(Z.Z,{price:y.value})})})]}),i.value>0&&(0,C.jsxs)(h.Z,{className:A.total,children:[(0,C.jsx)(m.Z,{component:"th",scope:"row",align:"center",children:(0,C.jsx)(x.Z,{variant:"h5",component:"p",children:"Total"})}),(0,C.jsx)(m.Z,{align:"center",width:150,children:(0,C.jsx)(x.Z,{variant:"h5",component:"p",children:(0,C.jsx)(Z.Z,{price:i.value})})})]}),(0,C.jsx)(h.Z,{children:(0,C.jsx)(m.Z,{colSpan:2,children:(0,C.jsx)(f.Z,{center:!0,price:null!==i&&void 0!==i&&i.value?(null===i||void 0===i?void 0:i.value)+F+T:(null===r||void 0===r?void 0:r.value)+T-w+(null===y||void 0===y?void 0:y.value),priceBoleto:F?null===i||void 0===i?void 0:i.value:(null===r||void 0===r?void 0:r.value)-.15*(null===r||void 0===r?void 0:r.value)+T-w+(null===y||void 0===y?void 0:y.value)})})})]})]})}),(0,C.jsx)(a.default,{href:"/checkout",children:(0,C.jsxs)(g.Z,{fullWidth:!0,variant:"contained",color:"secondary",href:"/checkout",component:"a","data-cy":"go-to-checkout",size:"large",className:(0,_.Z)(A.link_checkout,A.checkoutButton),disabled:S||!R||I,children:[(0,C.jsx)(v.Z,{})," ",!R||I?"Produto sem estoque":"Finalizar Pedido"]})})]})},S=t(8920),P=t(22350),w=t(24265),z=t(89837),N=t(79912),F=t(39803),O=t(73228),E=t(18463),T=t(58338),B=t(95477),A=t(28428),I=t(57141),R=function(){var e=(0,s.I0)(),n=(0,I.Z)().t,t=(0,s.v9)((function(e){return e.cart})),i=t.isProcessingCoupon,r=t.couponError,a=t.data.applied_coupons,l=(0,o.useState)(""),c=l[0],d=l[1],u=(0,o.useState)(""),h=u[0],m=u[1];(0,o.useEffect)((function(){a&&a.length>0&&a[0].code?m(a[0].code):m("")}),[a]);return(0,o.useEffect)((function(){r&&(alert(n(r)),e((0,T.b9)()))}),[r]),(0,C.jsx)(E.Z,{children:(0,C.jsxs)(N.Z,{children:[(0,C.jsx)(x.Z,{component:"h5",variant:"h6",style:{marginBottom:"1rem"},children:"Cupom de desconto:"}),(0,C.jsxs)(b.Z,{container:!0,spacing:1,children:[(0,C.jsx)(b.Z,{item:!0,style:{flex:1},children:(0,C.jsx)(F.Z,{id:"my-input",label:"Cupom","aria-describedby":"my-helper-text",variant:"outlined",defaultValue:h,value:h||null,disabled:!!h,onChange:function(e){return d(e.target.value)},size:"small",inputProps:{maxLength:50},fullWidth:!0})}),(0,C.jsx)(b.Z,{item:!0,children:(0,C.jsx)(g.Z,{variant:"contained",style:{height:"100%"},disabled:i,onClick:function(){e(h?(0,T.HK)():(0,T.HK)(c))},children:i?(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(B.Z,{size:22,color:"inherit"})," ","Processando..."]}):(0,C.jsx)(C.Fragment,{children:h?(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(A.Z,{})," ","Remover"]}):(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(O.Z,{})," ","Aplicar"]})})})})]})]})})},W=t(97685),L=t(22074),q=t(66844),M=t(30168),H=t(81467),K=(t(82218),(0,H.ZP)(i||(i=(0,M.Z)(["mutation setShippingAddressesOnCart($cartId: String!, $address: ShippingAddressInput!) {\n    setShippingAddressesOnCart(\n        input: {\n            cart_id: $cartId\n            shipping_addresses: [$address]\n        }\n    ) {\n        cart {\n            shipping_addresses {\n                available_shipping_methods {\n                    error_message\n                    method_code\n                    method_title\n                    carrier_code\n                    carrier_title\n                    amount {\n                        currency\n                        value\n                    }\n                }\n            }\n        }\n    }\n}"])))),U=t(32340),$=t(52541),D=t(30553),X=t(64436),V=t(31934),Y=t(20897),G=t(92637),J=(t(82175),(0,j.Z)((function(e){return{main_list:{padding:0,marginTop:"1rem"}}}))),Q=function(){var e=J(),n=(0,s.I0)(),t=(0,s.v9)((function(e){return e.cart})),i=(0,o.useState)(),r=i[0],a=i[1],l=(0,Y.Z)({},!1,"checkout"),c=(0,q.D)(K,{client:l}),d=(0,W.Z)(c,2),u=d[0],h=d[1],m=h.data,p=h.loading;return(0,C.jsx)(E.Z,{children:(0,C.jsxs)(N.Z,{children:[(0,C.jsx)(x.Z,{component:"h5",variant:"h6",style:{marginBottom:"1rem"},children:"Frete e Prazos"}),(0,C.jsxs)(b.Z,{container:!0,spacing:1,children:[(0,C.jsx)(b.Z,{item:!0,style:{flex:1},children:(0,C.jsx)(F.Z,{id:"my-input",label:"CEP",variant:"outlined",onChange:function(e){return a(e.target.value)},size:"small",required:!0,fullWidth:!0,InputProps:{inputComponent:G.Z}})}),(0,C.jsx)(b.Z,{item:!0,children:(0,C.jsx)(g.Z,{variant:"contained",style:{height:"100%"},disabled:p,onClick:function(){r&&u({variables:{cartId:t.cartId,address:{address:{postcode:r,country_code:"BR",city:"-",firstname:"-",lastname:"-",street:"-",region:"SC",region_id:507,telephone:"-"}}}})},children:p||t.isProcessingShippingMethod?(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(B.Z,{size:22,color:"inherit"})," ","Buscando..."]}):(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(L.Z,{})," ","Calcular"]})})})]}),m&&m.setShippingAddressesOnCart&&(0,C.jsx)(X.Z,{component:"fieldset",className:e.main_list,children:(0,C.jsx)($.Z,{"aria-label":"gender",name:"gender1",onChange:function(e){var t=e.target.value.split("__"),i=(0,W.Z)(t,2),r=i[0],o=i[1];n((0,T.vu)({carrierCode:o,methodCode:r}))},children:m&&m.setShippingAddressesOnCart&&m.setShippingAddressesOnCart.cart.shipping_addresses[0].available_shipping_methods.filter((function(e){return!!e.method_title})).map((function(e){return(0,C.jsx)(C.Fragment,{children:(0,C.jsx)(D.Z,{value:"".concat(e.method_code,"__").concat(e.carrier_code),control:(0,C.jsx)(U.Z,{}),disabled:t.isProcessingShippingMethod,label:"".concat((0,V.ZP)(e.amount.value)," - ").concat(e.method_title)})})}))})})]})})},ee=t(26688),ne=t(63457),te=t(90621),ie=t(74525),re=(t(36244),t(66123)),oe=t(7954),se=t(95441),ae=t(8830),le=t(22484),ce=t(94730),de=(0,j.Z)((function(e){return{root:{flexShrink:0,marginLeft:e.spacing(2.5)},table:{minWidth:500},title:{marginBottom:"1rem"},summary:(0,r.Z)({},e.breakpoints.up("md"),{order:2}),cart:(0,r.Z)({},e.breakpoints.up("md"),{order:1}),mobileLink:{display:"block",marginTop:"1rem"},cartTitle:{marginTop:"1rem"}}})),ue=function(){var e,n=(0,s.v9)((function(e){return e.cart})),t=n.loaded,i=n.data,r=n.loading,l=n.isRefreshingCart,c=n.cartError,d=(0,s.I0)(),u=(0,I.Z)().t,h=de(),m=(0,S.Z)(),p=(0,ne.Z)(m.breakpoints.up("md")),x=(0,o.useState)(!1),Z=x[0],j=x[1],f=null===i||void 0===i||null===(e=i.items)||void 0===e?void 0:e.some((function(e){return"OUT_OF_STOCK"===e.product.stock_status}));return!f&&null!==i&&void 0!==i&&i.items&&(null===i||void 0===i||i.items.forEach((function(e){null!==e&&void 0!==e&&e.customizable_options&&null!==e&&void 0!==e&&e.customizable_options.some((function(e){return e.values.length<=0}))&&(f=!0)}))),(0,C.jsxs)(C.Fragment,{children:[(null===i||void 0===i?void 0:i.total_quantity)>0&&(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(ce.Z,{title:"MEU CARRINHO"}),(0,C.jsx)("br",{})]}),(0,C.jsxs)(w.Z,{children:[null!==i&&void 0!==i&&i.total_quantity?(0,C.jsx)(z.Z,{showHome:!1,links:[{text:(0,C.jsx)(C.Fragment,{children:"< voltar para a P\xe1gina Inicial"}),href:"/"}]}):(0,C.jsx)(z.Z,{links:[{text:"Seu Carrinho de compras"}]}),(r||!t)&&(0,C.jsx)(te.Z,{center:!0}),t&&i&&i.items&&i.items.length>0&&(0,C.jsxs)(b.Z,{container:!0,spacing:3,children:[(0,C.jsx)(b.Z,{item:!0,xs:12,md:3,className:h.summary,children:(0,C.jsx)(y,{cart:i})}),(0,C.jsxs)(b.Z,{item:!0,xs:12,md:9,className:h.cart,children:[(0,C.jsx)(ie.Z,{cart:i}),(0,C.jsxs)(b.Z,{container:!0,spacing:3,style:{paddingTop:"1.5rem"},children:[(0,C.jsx)(b.Z,{item:!0,xs:12,style:{textAlign:"right"},children:(0,C.jsxs)(g.Z,{variant:"contained",size:"small",onClick:function(){return j(!0)},children:[(0,C.jsx)(ee.Z,{fontSize:"small"})," ","Limpar Carrinho"]})}),(0,C.jsx)(b.Z,{item:!0,xs:12,md:6,children:(0,C.jsx)(R,{})}),(0,C.jsx)(b.Z,{item:!0,xs:12,md:6,children:(0,C.jsx)(Q,{})})]}),!p&&(0,C.jsx)(a.default,{href:"/checkout",children:(0,C.jsxs)(g.Z,{fullWidth:!0,variant:"contained",color:"secondary",disabled:l||f,size:"large",className:h.mobileLink,children:[(0,C.jsx)(v.Z,{})," ",f?"Produto sem estoque":"Finalizar Pedido"]})})]})]}),(t&&i&&i.items&&i.items.length<=0||!r&&!i)&&(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)("div",{style:{padding:"3rem 0",textAlign:"center"},children:"Nenhum produto no seu carrinho."}),(0,C.jsx)(oe.Z,{center:!0,hasSpacing:!0}),(0,C.jsx)(se.Z,{pageType:"emptyCart"}),(0,C.jsx)(ae.Z,{pageType:"emptyCart"})]}),(0,C.jsx)(P.Z,{title:"Meu Carrinho",robots:"noindex"}),c&&(0,C.jsx)(re.default,{title:"Ocorreu um erro no seu carrinho!",description:(0,C.jsx)(C.Fragment,{children:u(c)}),textCenter:!0,extraPadding:!0,onClose:function(){d((0,T.b9)()),d((0,T.x7)())}}),Z&&(0,C.jsx)(le.Z,{title:"Meu Carrinho",description:"Deseja remover todos os itens do seu carrinho?",textCenter:!0,extraPadding:!0,onOk:function(){d((0,T.UY)())},onClose:function(){j(!1)}})]})]})},he=function(){return(0,C.jsx)(ue,{})}},54701:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/cart",function(){return t(2606)}])}},function(e){e.O(0,[2157,7629,7327,8576,7569,1534,9774,2888,179],(function(){return n=54701,e(e.s=n);var n}));var n=e.O();_N_E=n}]);