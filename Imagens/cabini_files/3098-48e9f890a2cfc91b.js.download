"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3098],{3098:function(e,n,r){r.d(n,{Z:function(){return y}});var t=r(4942),i=r(67294),a=r(24265),s=r(25617),o=r(11163),c=r(41749),l=r(67265),u=r(22318),m=r(41120),d=r(22350),p=(r(56143),r(17626)),h=r(61666),x=r(39803),g=r(282),f=r(89606),j=r(85893),Z=(0,m.Z)((function(e){return{form:{width:"100%",marginTop:e.spacing(2)},submit:{margin:e.spacing(3,0,2)}}})),b=function(e){var n=e.redirectTo,r=Z(),t=(0,s.I0)(),a=(0,s.v9)((function(e){return e.auth})),c=a.isAuth,l=a.isRequestingPassword,u=a.customer,m=(0,i.useState)((null===u||void 0===u?void 0:u.email)||""),d=m[0],p=m[1],h=(0,o.useRouter)(),b=(0,i.useCallback)((function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];e&&e.preventDefault(),l||t((0,f.HE)({email:d,cb:function(){alert("Email enviado"),n&&h.push(n)}}))}),[d,c,l]);return(0,j.jsxs)("form",{className:r.form,onSubmit:b,children:[(0,j.jsx)(x.Z,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"username",label:"E-mail",name:"username",autoComplete:"username",value:d,onChange:function(e){var n=e.target;return p(n.value)},autoFocus:!0}),(0,j.jsx)(g.Z,{type:"submit",fullWidth:!0,variant:"contained",size:"large",color:"primary",disabled:l,className:r.submit,children:l?"Validando...":"".concat(c?"Recuperar":"Alterar"," senha")})]})},v=(0,m.Z)((function(e){return{container:(0,t.Z)({marginBottom:e.spacing(4),marginTop:e.spacing(8)},e.breakpoints.down("sm"),{marginTop:e.spacing(4)}),paper:{display:"flex",flexDirection:"column",alignItems:"center",textAlign:"center"},header:{flexDirection:"column",minHeight:160,display:"flex",alignItems:"center"},title:{marginBottom:"1rem"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.primary.main},avatarAccount:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(2)},submit:{margin:e.spacing(3,0,2)},createButton:{marginTop:e.spacing(4)},button_link:{color:"white"}}})),y=function(e){var n=e.redirectTo,r=e.setReturnLogin,t=v(),m=(0,s.v9)((function(e){return e.auth})).isAuth,x=(0,o.useRouter)();return(0,i.useEffect)((function(){m&&!x.asPath.includes("recovery")&&x.push(n||"/account")}),[m]),(0,j.jsxs)(a.Z,{maxWidth:"sm",children:[(0,j.jsx)("div",{className:t.container,children:(0,j.jsx)(c.Z,{container:!0,spacing:4,children:(0,j.jsx)(c.Z,{item:!0,xs:12,children:(0,j.jsxs)("div",{className:t.paper,children:[(0,j.jsxs)("div",{className:t.header,children:[(0,j.jsx)(l.Z,{className:t.avatar,children:(0,j.jsx)(p.Z,{})}),(0,j.jsxs)(u.Z,{component:"h1",variant:"h5",className:t.title,children:[m?"Alterar":"Recuperar"," ","minha senha"]}),(0,j.jsxs)("p",{children:["Informe seu email e receba  as informa\xe7\xf5es para"," ",m?"alterar":"recuperar"," ","sua senha."]})]}),(0,j.jsx)(b,{redirectTo:n}),!m&&(0,j.jsx)(c.Z,{container:!0,children:(0,j.jsx)(c.Z,{item:!0,xs:!0,children:(0,j.jsx)(h.Z,{href:"",onClick:r,children:"Voltar para o login"})})})]})})})}),(0,j.jsx)(d.Z,{title:"Recuperar sua senha"})]})}},56143:function(e,n,r){r.d(n,{Z:function(){return I}});var t=r(15861),i=r(87757),a=r.n(i),s=r(67294),o=r(25617),c=r(11163),l=r(82175),u=r(30553),m=r(80797),d=r(282),p=r(41749),h=r(41120),x=r(85639),g=r(30585),f=r(20067),j=r(28270),Z=r(17812),b=r(7397),v=r(61666),y=r(66123),C=r(57141),w=r(89606),N=r(39100),P=r(57402),k=r(68e3),_=r(34853),O=r(74231),E=r(69697);O.kM(O.Z_,"cpfcnpj",(function(e,n){return this.transform((function(e,n){return!1}))}));var A=O.Ry().shape({firstname:O.Z_().required("Nome \xe9 obrigat\xf3rio"),lastname:O.Z_().required("Sobrenome \xe9 obrigat\xf3rio"),taxvat:O.Z_().when("tipopessoa",{is:function(e){return 1==e},then:O.Z_().matches(/([0-9]{2}[\.]?[0-9]{3}[\.]?[0-9]{3}[\/]?[0-9]{4}[-]?[0-9]{2})|([0-9]{3}[\.]?[0-9]{3}[\.]?[0-9]{3}[-]?[0-9]{2})$/,"CPF em formato inv\xe1lido").test({test:function(e){return E.wn.isValid(e)},message:"CPF inv\xe1lido"}).typeError("CPF Inv\xe1lido"),otherwise:O.Z_().matches(/([0-9]{2}[\.]?[0-9]{3}[\.]?[0-9]{3}[\/]?[0-9]{4}[-]?[0-9]{2})|([0-9]{3}[\.]?[0-9]{3}[\.]?[0-9]{3}[-]?[0-9]{2})$/,"CNPJ em formato inv\xe1lido").test({test:function(e){return E.s3.isValid(e)},message:"CNPJ inv\xe1lido"}).typeError("CNPJ Inv\xe1lido")}).required("Informe um CPF ou CNPJ v\xe1lido!"),newPassword:O.Z_().required("Senha \xe9 obrigat\xf3rio"),empresa:O.Z_().when("tipopessoa",{is:function(e){return 2==e},then:O.Z_().required("Raz\xe3o Social \xe9 obrigat\xf3rio"),otherwise:O.Z_()}),ie:O.Z_().when("tipopessoa",{is:function(e){return 2==e},then:O.Z_().required("IE \xe9 obrigat\xf3rio"),otherwise:O.Z_()}),email:O.Z_().email().required("E-mail \xe9 obrigat\xf3rio").typeError("E-mail \xe9 inv\xe1lido!"),tipopessoa:O.Z_().required("Campo obrigat\xf3rio"),terms:O.O7().oneOf([!0,1],"Voc\xea deve aceitar os termos da Pichau para criar sua conta.")}),S=r(85893),R=(0,h.Z)((function(e){return{form:{width:"100%",marginTop:e.spacing(2)},submit:{margin:e.spacing(3,0,2)},ieCheckWrapper:{position:"absolute",right:10,top:25,display:"flex",borderRadius:5,fontSize:11,alignItems:"center",padding:"1px 2px"}}})),I=function(e){var n=e.redirectTo,r=void 0===n?"/account":n,i=R(),h=(0,o.I0)(),O=(0,c.useRouter)(),E=(0,s.useState)(!1),I=E[0],W=E[1],q=(0,s.useState)(!1),F=q[0],T=q[1],D=(0,s.useRef)(null),J=(0,o.v9)((function(e){return e.auth})),z=J.isAuth,V=J.isCheckingAuth,L=J.isCreatingUser,B=J.error,G=(0,C.Z)().t,H=(0,s.useCallback)((function(e){W(!I),e("ie",I?"":"ISENTO")}),[I]),Q=(0,s.useCallback)(function(){var e=(0,t.Z)(a().mark((function e(n,t){var i,s,o,c,l,u,m,d,p,x,g,f,j,Z;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=n.firstname,s=n.lastname,o=n.taxvat,c=n.rg,l=n.ie,u=n.tipopessoa,m=n.email,d=n.newPassword,p=n.is_subscribed,x=n.nomefantasia,g=void 0===x?"":x,f=n.empresa,j=void 0===f?"":f,z||L){e.next=6;break}return e.next=4,D.current.executeAsync();case 4:Z=e.sent,h((0,w.o1)({firstname:i,lastname:s,taxvat:o,rg:c,ie:l,nomefantasia:g,empresa:j,tipopessoa:u,email:m,password:d,is_subscribed:p,redirectTo:r,router:O,recaptchaToken:Z,cb:function(){return t(!1)}}));case 6:case"end":return e.stop()}}),e)})));return function(n,r){return e.apply(this,arguments)}}(),[r]);return(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(l.J9,{initialValues:{firstname:"",lastname:"",nomefantasia:"",empresa:"",email:"",taxvat:"",tipopessoa:"1",rg:"",ie:"",newPassword:"",is_subscribed:!0,terms:!1},validationSchema:A,onSubmit:function(e,n){var r=n.setSubmitting;Q(e,r)},children:function(e){var n=e.values,r=e.setFieldValue,t=e.submitForm,a=e.errors;return(0,S.jsxs)(l.l0,{className:i.form,children:[(0,S.jsxs)(p.Z,{container:!0,spacing:2,children:[(0,S.jsx)(p.Z,{item:!0,xs:12,md:6,children:(0,S.jsx)(l.gN,{component:N.Z,name:"firstname",type:"text",label:"Nome",variant:"outlined",margin:"normal",fullWidth:!0})}),(0,S.jsx)(p.Z,{item:!0,xs:12,md:6,children:(0,S.jsx)(l.gN,{component:N.Z,name:"lastname",type:"text",label:"Sobrenome",variant:"outlined",margin:"normal",fullWidth:!0})})]}),(0,S.jsx)(p.Z,{container:!0,spacing:2,children:(0,S.jsx)(p.Z,{item:!0,xs:12,md:6,children:(0,S.jsxs)(l.gN,{component:N.Z,type:"text",select:!0,name:"tipopessoa",label:"Quero me cadastrar como:",variant:"outlined",margin:"normal",placeholder:"Quero me cadastrar como:",required:!0,fullWidth:!0,SelectProps:{multiple:!1},children:[(0,S.jsx)(x.Z,{value:"1",children:"Pessoa F\xedsica"}),(0,S.jsx)(x.Z,{value:"2",children:"Pessoa Jur\xeddica"})]})})}),"2"===n.tipopessoa&&(0,S.jsxs)(p.Z,{container:!0,spacing:2,children:[(0,S.jsx)(p.Z,{item:!0,xs:12,md:6,children:(0,S.jsx)(l.gN,{component:N.Z,name:"nomefantasia",type:"text",label:"Nome Fantasia",variant:"outlined",margin:"normal",fullWidth:!0})}),(0,S.jsx)(p.Z,{item:!0,xs:12,md:6,children:(0,S.jsx)(l.gN,{component:N.Z,name:"empresa",type:"text",label:"Raz\xe3o Social",variant:"outlined",margin:"normal",fullWidth:!0})})]}),(0,S.jsxs)(p.Z,{container:!0,spacing:2,children:[(0,S.jsx)(p.Z,{item:!0,xs:12,md:6,children:(0,S.jsx)(l.gN,{component:N.Z,name:"taxvat",type:"text",label:"1"===n.tipopessoa?"CPF":"CNPJ",variant:"outlined",margin:"normal",required:!0,fullWidth:!0,InputProps:{inputComponent:"1"===n.tipopessoa?P.Z:k.Z}})}),"1"===n.tipopessoa?(0,S.jsx)(p.Z,{item:!0,xs:12,md:6,children:(0,S.jsx)(l.gN,{component:N.Z,name:"rg",type:"text",label:"RG",variant:"outlined",margin:"normal",fullWidth:!0})}):(0,S.jsx)(p.Z,{item:!0,xs:12,md:6,children:(0,S.jsxs)("div",{style:{position:"relative"},children:[(0,S.jsx)(l.gN,{component:N.Z,name:"ie",type:"text",label:"IE",variant:"outlined",margin:"normal",fullWidth:!0,disabled:I}),(0,S.jsxs)("div",{className:i.ieCheckWrapper,children:[(0,S.jsx)("input",{type:"checkbox",onChange:function(){return H(r)}})," ",(0,S.jsx)("span",{children:"ISENTO"})]})]})})]}),(0,S.jsx)(p.Z,{container:!0,spacing:2,children:(0,S.jsx)(p.Z,{item:!0,xs:12,md:12,children:(0,S.jsx)(l.gN,{component:N.Z,name:"email",type:"email",label:"E-mail",variant:"outlined",margin:"normal",required:!0,fullWidth:!0})})}),(0,S.jsx)(p.Z,{container:!0,spacing:2,children:(0,S.jsx)(p.Z,{item:!0,xs:12,md:12,children:(0,S.jsx)(l.gN,{component:N.Z,name:"newPassword",type:F?"text":"password",label:"Senha",variant:"outlined",margin:"normal",required:!0,fullWidth:!0,InputProps:{endAdornment:(0,S.jsx)(b.Z,{position:"end",children:(0,S.jsx)(Z.Z,{"aria-label":"toggle password visibility",onClick:function(){return T(!F)},edge:"end",children:F?(0,S.jsx)(j.Z,{}):(0,S.jsx)(f.Z,{})})})}})})}),(0,S.jsx)(p.Z,{container:!0,spacing:2,children:(0,S.jsx)(p.Z,{item:!0,xs:12,md:12,style:{textAlign:"left"},children:(0,S.jsx)(u.Z,{control:(0,S.jsx)(m.Z,{value:"remember",color:"primary",checked:n.is_subscribed,onChange:function(e){var n=e.target;return r("is_subscribed",n.checked)}}),label:"Aceito receber comunica\xe7\xe3o de marketing da Pichau"})})}),(0,S.jsx)(p.Z,{container:!0,spacing:2,children:(0,S.jsxs)(p.Z,{item:!0,xs:12,md:12,style:{textAlign:"left"},children:[(0,S.jsx)(u.Z,{control:(0,S.jsx)(l.gN,{component:m.Z,value:"terms",color:"primary",onChange:function(e){var n=e.target;return r("terms",n.checked)}}),label:(0,S.jsxs)(S.Fragment,{children:["Estou ciente e CONCORDO com os"," ",(0,S.jsx)(v.Z,{href:"/termos-de-aceite",target:"_blank",style:{color:"inherit",textDecoration:"underline"},children:"termos de aceite"})," ","e"," ",(0,S.jsx)(v.Z,{href:"/politica-de-privacidade",target:"_blank",style:{color:"inherit",textDecoration:"underline"},children:"pol\xedticas de privacidade"})," ","da Pichau."]})}),a.terms&&(0,S.jsx)(g.Z,{error:!0,children:a.terms})]})}),(0,S.jsx)(d.Z,{type:"submit",fullWidth:!0,variant:"contained",size:"large",color:"primary",onClick:t,disabled:L||V,className:i.submit,children:L||V?"Criando conta...":"Criar conta"})]})}}),B&&(0,S.jsx)(y.default,{title:"Autentica\xe7\xe3o",description:G(B),textCenter:!0,onClose:function(){return h((0,w.b9)())}}),(0,S.jsx)(_.Z,{ref:D,sitekey:"6LeFLEolAAAAAKdl2ki8RwGaXYu09UuFtZ3IRcJy",size:"invisible"})]})}},39100:function(e,n,r){var t=r(4942),i=(r(67294),r(14953)),a=(r(82175),r(85893));function s(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),r.push.apply(r,t)}return r}n.Z=function(e){return(0,a.jsx)(i.nv,function(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?s(Object(r),!0).forEach((function(n){(0,t.Z)(e,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))}))}return e}({size:"small",autoComplete:0,inputProps:{maxLength:255}},e))}}}]);